<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script src="/cdn-cgi/apps/head/3cOPSgo5Omz84ycX7CvigfX4cpw.js"></script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-82213539-2"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-82213539-2');
    </script>
    <title>9 Serverless Functions 2.1.0.BUILD-SNAPSHOT</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" href="https://docs.micronaut.io/docsassets/css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8"/>
    <link rel="stylesheet" href="https://docs.micronaut.io/docsassets/css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8"/>
    <script type="text/javascript">
function addJsClass() {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
</head>

<body class="body" onload="addJsClass();">
<div id="navigation">
    <div class="navTitle">
        
        Micronaut
    </div>
    <div class="navLinks">
        <ul>
            <li>
                <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                    <a href="../guide/index.html" class="button">Table of contents</a>

                    <div id="nav-summary-childs" style="display:none;">
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/introduction.html"><strong>1</strong><span>Introduction</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/quickStart.html"><strong>2</strong><span>Quick Start</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/ioc.html"><strong>3</strong><span>Inversion of Control</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/config.html"><strong>4</strong><span>Application Configuration</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/aop.html"><strong>5</strong><span>Aspect Oriented Programming</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/httpServer.html"><strong>6</strong><span>The HTTP Server</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/httpClient.html"><strong>7</strong><span>The HTTP Client</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/cloud.html"><strong>8</strong><span>Cloud Native Features</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/serverlessFunctions.html"><strong>9</strong><span>Serverless Functions</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/messaging.html"><strong>10</strong><span>Message-Driven Microservices</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/commandLineApps.html"><strong>11</strong><span>Standalone Command Line Applications</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/configurations.html"><strong>12</strong><span>Configurations</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/languageSupport.html"><strong>13</strong><span>Language Support</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/management.html"><strong>14</strong><span>Management &amp; Monitoring</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/security.html"><strong>15</strong><span>Security</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/multitenancy.html"><strong>16</strong><span>Multi-Tenancy</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/cli.html"><strong>17</strong><span>Micronaut CLI</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/i18n.html"><strong>18</strong><span>Internationalization</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/appendix.html"><strong>19</strong><span>Appendices</span></a>
                        </div>
                        
                    </div>
                </div>
            </li>
            <li class="separator selected">
                <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
            </li>
        </ul>
    </div>


</div>

<table id="colset" border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td id="col1">
            <div id="main" class="corner-all">

                
                    <div class="toc-item prev-left"><a href="../guide/cloud.html">&lt;&lt; <strong>8</strong><span>Cloud Native Features</span></a></div>
                

                <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                
                    <div class="toc-item next-right"><a href="../guide/messaging.html"><strong>10</strong><span>Message-Driven Microservices</span> >></a></div>
                


                <div class="project">
                    <h1>9 Serverless Functions</h1>

                    <p><strong>Version:</strong> 2.1.0.BUILD-SNAPSHOT</p>
                </div>

                
                <div id="table-of-content">
                    <h2>Table of Contents</h2>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#awsLambda"><strong>9.1</strong><span>AWS Lambda</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#gcpFunction"><strong>9.2</strong><span>Google Cloud Function</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#gcpCloudRun"><strong>9.3</strong><span>Google Cloud Run</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#azureFunction"><strong>9.4</strong><span>Azure Function</span></a>
                    </div>
                    
                </div>
                

                
<h1 id="serverlessFunctions"><a class="anchor" href="#serverlessFunctions"></a>9 Serverless Functions</h1>

<div class='contribute-btn'>
    <button type='button' class='btn btn-default' onclick='window.location.href="https://github.com/micronaut-projects/micronaut-core/edit/master/src/main/docs/guide/serverlessFunctions.adoc"'>
        <i class='fa fa-pencil-square-o'></i> Improve this doc
    </button>
</div>


<div class="paragraph">
<p>Server-less architectures where as a developer you deploy functions that are fully managed by the Cloud environment and are executed in ephemeral processes require a unique approach.</p>
</div>
<div class="paragraph">
<p>Traditional frameworks like Grails and Spring are not really suitable since low memory consumption and fast startup time are critical, since the Function as a Service (FaaS) server will typically spin up your function for a period using a cold start and then keep it warm.</p>
</div>
<div class="paragraph">
<p>Micronaut&#8217;s compile-time approach, fast startup time and low-memory footprint make it a great candidate for using as a framework for developing functions and in fact Micronaut features dedicated support for developing and deploying functions to AWS Lambda, Google Cloud Function, Azure Function and any FaaS system that supports running functions as containers (such as OpenFaaS, Rift or Fn).</p>
</div>
<div class="paragraph">
<p>There are generally 2 approaches to writing functions with Micronaut:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Low-level functions that are written using the native API of the function platform</p>
</li>
<li>
<p>Higher-level functions where you simply define controllers as you would normally do in a typical Micronaut application and deploy to the function platform.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The first approach has marginally less startup time overhead and is typically used for non-HTTP functions such as functions that listen to an event or background functions.</p>
</div>
<div class="paragraph">
<p>The second approach is only for HTTP functions and is useful for users who want to take a slice of an existing application and deploy it as a serverless function. If cold start performance is a concern it is recommended that you consider building a native image with GraalVM for this option.</p>
</div>

<h2 id="awsLambda"><a class="anchor" href="#awsLambda"></a>9.1 AWS Lambda</h2>

<div class='contribute-btn'>
    <button type='button' class='btn btn-default' onclick='window.location.href="https://github.com/micronaut-projects/micronaut-core/edit/master/src/main/docs/guide/serverlessFunctions/awsLambda.adoc"'>
        <i class='fa fa-pencil-square-o'></i> Improve this doc
    </button>
</div>


<div class="paragraph">
<p>Support for AWS Lambda is implemented in the <a href="https://micronaut-projects.github.io/micronaut-aws/latest/guide/#whatsNew">Micronaut AWS</a> subproject.</p>
</div>
<div class="sect3">
<h4 id="_simple_functions_with_aws_lambda">Simple Functions with AWS Lambda</h4>
<div class="paragraph">
<p>You can implement AWS Request Handlers with Micronaut that implement directly the AWS Lambda SDK API. See the documentation on <a href="https://micronaut-projects.github.io/micronaut-aws/latest/guide/#requestHandlers">Micronaut Request Handlers</a> for more information.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">Using the CLI</div>
<div class="paragraph">
<p>To create an AWS Lambda Function:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ mn create-function-app my-app --features aws-lambda</pre>
</div>
</div>
<div class="paragraph">
<p>Or with Micronaut Launch</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ curl https://launch.micronaut.io/create/function/example\?features\=aws-lambda -o example.zip
$ unzip example.zip -d example</pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_http_functions_with_aws_lambda">HTTP Functions with AWS Lambda</h4>
<div class="paragraph">
<p>You can deploy regular Micronaut applications that use <a href="../api/io/micronaut/http/annotation/Controller.html">@Controller</a> etc. using Micronaut&#8217;s support for AWS API Gateway. See the documentation on <a href="https://micronaut-projects.github.io/micronaut-aws/snapshot/guide/#apiProxy">AWS API Gateway Support</a> for more information.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">Using the CLI</div>
<div class="paragraph">
<p>To create an AWS API Gateway Proxy application:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ mn create-app my-app --features aws-lambda</pre>
</div>
</div>
<div class="paragraph">
<p>Or with Micronaut Launch</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ curl https://launch.micronaut.io/example.zip\?features\=aws-lambda -o example.zip
$ unzip example.zip -d example</pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>

<h2 id="gcpFunction"><a class="anchor" href="#gcpFunction"></a>9.2 Google Cloud Function</h2>

<div class='contribute-btn'>
    <button type='button' class='btn btn-default' onclick='window.location.href="https://github.com/micronaut-projects/micronaut-core/edit/master/src/main/docs/guide/serverlessFunctions/gcpFunction.adoc"'>
        <i class='fa fa-pencil-square-o'></i> Improve this doc
    </button>
</div>


<div class="paragraph">
<p>Support for Google Cloud Function is implemented in the <a href="https://micronaut-projects.github.io/micronaut-gcp/2.0.x/guide/#cloudFunction">Micronaut GCP</a> subproject.</p>
</div>
<div class="sect3">
<h4 id="_simple_functions_with_cloud_function">Simple Functions with Cloud Function</h4>
<div class="paragraph">
<p>You can implement Cloud Functions with Micronaut that implement directly the <a href="https://github.com/GoogleCloudPlatform/functions-framework-java">Cloud Function Framework API</a>. See the documentation on <a href="https://micronaut-projects.github.io/micronaut-gcp/2.0.x/guide/#simpleFunctions">Simple Functions</a> for more information.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">Using the CLI</div>
<div class="paragraph">
<p>To create a Google Cloud Function:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ mn create-function-app my-app --features google-cloud-function</pre>
</div>
</div>
<div class="paragraph">
<p>Or with Micronaut Launch</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ curl https://launch.micronaut.io/create/function/example\?features\=google-cloud-function -o example.zip
$ unzip example.zip -d example</pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_http_functions_with_cloud_function">HTTP Functions with Cloud Function</h4>
<div class="paragraph">
<p>You can deploy regular Micronaut applications that use <a href="../api/io/micronaut/http/annotation/Controller.html">@Controller</a> etc. using Micronaut&#8217;s support for HTTP Functions. See the documentation on <a href="https://micronaut-projects.github.io/micronaut-gcp/2.0.x/guide/#httpFunctions">Google Cloud HTTP Functions</a> for more information.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">Using the CLI</div>
<div class="paragraph">
<p>To create a Google Cloud HTTP Function:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ mn create-app my-app --features google-cloud-function</pre>
</div>
</div>
<div class="paragraph">
<p>Or with Micronaut Launch</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ curl https://launch.micronaut.io/example.zip\?features\=google-cloud-function -o example.zip
$ unzip example.zip -d example</pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>

<h2 id="gcpCloudRun"><a class="anchor" href="#gcpCloudRun"></a>9.3 Google Cloud Run</h2>

<div class='contribute-btn'>
    <button type='button' class='btn btn-default' onclick='window.location.href="https://github.com/micronaut-projects/micronaut-core/edit/master/src/main/docs/guide/serverlessFunctions/gcpCloudRun.adoc"'>
        <i class='fa fa-pencil-square-o'></i> Improve this doc
    </button>
</div>


<div class="paragraph">
<p>To deploy to <a href="https://cloud.google.com/run">Google Cloud Run</a> we recommend using <a href="https://github.com/GoogleContainerTools/jib">JIB</a> to containerize your application.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">Using the CLI</div>
<div class="paragraph">
<p>Creating an application with JIB:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ mn create-app my-app --features jib</pre>
</div>
</div>
<div class="paragraph">
<p>Or with Micronaut Launch</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ curl https://launch.micronaut.io/example.zip\?features\=jib -o example.zip
$ unzip example.zip -d example</pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>With JIB setup to deploy your application to Google Container Registry you can simple run:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ ./gradlew jib</code></pre>
</div>
</div>
<div class="paragraph">
<p>You are now ready to deploy your application :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ gcloud run deploy --image gcr.io/[PROJECT ID]/example --platform=managed --allow-unauthenticated</code></pre>
</div>
</div>
<div class="paragraph">
<p>Where <code>[PROJECT ID]</code> is replaced for your project ID. You should be asked to specify a region and see output like the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>Service name: (example):
Deploying container to Cloud Run service [example] in project [PROJECT_ID] region [us-central1]

✓ Deploying... Done.
  ✓ Creating Revision...
  ✓ Routing traffic...
  ✓ Setting IAM Policy...
Done.
Service [example] revision [example-00004] has been deployed and is serving 100 percent of traffic at https://example-9487r97234-uc.a.run.app</code></pre>
</div>
</div>
<div class="paragraph">
<p>The URL is the URL of your Cloud Run application.</p>
</div>

<h2 id="azureFunction"><a class="anchor" href="#azureFunction"></a>9.4 Azure Function</h2>

<div class='contribute-btn'>
    <button type='button' class='btn btn-default' onclick='window.location.href="https://github.com/micronaut-projects/micronaut-core/edit/master/src/main/docs/guide/serverlessFunctions/azureFunction.adoc"'>
        <i class='fa fa-pencil-square-o'></i> Improve this doc
    </button>
</div>


<div class="paragraph">
<p>Support for Azure Function is implemented in the <a href="https://micronaut-projects.github.io/micronaut-azure/1.0.x/guide/index.html#azureFunction">Micronaut Azure</a> subproject.</p>
</div>
<div class="sect3">
<h4 id="_simple_functions_with_azure_function">Simple Functions with Azure Function</h4>
<div class="paragraph">
<p>You can implement Azure Functions with Micronaut that implement directly the <a href="https://docs.microsoft.com/en-us/azure/azure-functions/functions-reference-java?tabs=consumption">Azure Function Java SDK</a>. See the documentation on <a href="https://micronaut-projects.github.io/micronaut-azure/1.0.x/guide/index.html#azureFunction">Azure Functions</a> for more information.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">Using the CLI</div>
<div class="paragraph">
<p>To create an Azure Function:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ mn create-function-app my-app --features azure-function</pre>
</div>
</div>
<div class="paragraph">
<p>Or with Micronaut Launch</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ curl https://launch.micronaut.io/create/function/example\?features\=azure-function -o example.zip
$ unzip example.zip -d example</pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_http_functions_with_azure_function">HTTP Functions with Azure Function</h4>
<div class="paragraph">
<p>You can deploy regular Micronaut applications that use <a href="../api/io/micronaut/http/annotation/Controller.html">@Controller</a> etc. using Micronaut&#8217;s support for Azure HTTP Functions. See the documentation on <a href="https://micronaut-projects.github.io/micronaut-azure/1.0.x/guide/index.html#azureFunction">Azure HTTP Functions</a> for more information.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">Using the CLI</div>
<div class="paragraph">
<p>To create a Azure HTTP Function:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ mn create-app my-app --features azure-function</pre>
</div>
</div>
<div class="paragraph">
<p>Or with Micronaut Launch</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ curl https://launch.micronaut.io/example.zip\?features\=azure-function -o example.zip
$ unzip example.zip -d example</pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>


                <div style="clear:both;margin-top:15px;"></div>
                
                    <div class="toc-item prev-left"><a href="../guide/cloud.html">&lt;&lt; <strong>8</strong><span>Cloud Native Features</span></a></div>
                
                    <div class="toc-item next-right"><a href="../guide/messaging.html"><strong>10</strong><span>Message-Driven Microservices</span> >></a></div>
                
                <div style="clear:both"></div>
            </div>
        </td>
        <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                </div>
            </div>
        </td>
    </tr>
</table>

<div id="footer">
    
    
</div>

<script type="text/javascript" src="https://docs.micronaut.io/docsassets/js/docs.js"></script>

</body>
</html>
